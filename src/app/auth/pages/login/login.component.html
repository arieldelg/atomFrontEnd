<div class="login-page">
  <div class="left-container">
    <app-presentation/>
  </div>
  <div class="right-container">
    <h1>Login</h1>

    @if (message().length > 0) {
    <p class="text-invalid">{{ message() }}</p>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <p>
        <mat-form-field appearance="fill">
          <mat-label>user</mat-label>
          <input
            matInput
            placeholder="Your userName"
            formControlName="displayName"
          />
          <mat-icon matSuffix>face</mat-icon>
        </mat-form-field>
        @if (isValidForm('displayName')) {
        <span class="warning-text"> {{ getErrors('displayName')}} </span>
        }
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>email</mat-label>
          <input
            matInput
            placeholder="example@hotmail.com"
            formControlName="email"
          />
          <mat-icon matSuffix>mail</mat-icon>
        </mat-form-field>
        @if (isValidForm('email')) {
        <span class="warning-text"> Email not valid </span>
        }
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>password</mat-label>
          <input
            matInput
            type="password"
            placeholder="********"
            formControlName="password"
          />
          <mat-icon matSuffix>key</mat-icon>
        </mat-form-field>
        @if (isValidForm('password')) {
        <span class="warning-text">
          {{ getErrors('password')  }}
        </span>
        }
      </p>
      <button type="submit" (keydown.enter)="onSubmit()" mat-raised-button>
        Login
      </button>
    </form>
  </div>
</div>
